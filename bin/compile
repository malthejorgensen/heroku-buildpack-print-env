#!/usr/bin/env bash

BP_DIR=$(cd $(dirname $0); cd ..; pwd)

indent() {
  sed -u 's/^/       /'
}

print_contents_if_exists() {
  if [[ -d $1 ]]; then
    echo "Directory '$1' exists, and has contents:"
    ls $1
  fi
}

echo '-----> Found a "export"-file'

echo 'Printing contents of "export"-file: '
cat $BP_DIR/export | indent

echo 'Print environment'
env | indent

print_contents_if_exists /app
print_contents_if_exists /app/.apt
print_contents_if_exists /app/.apt/usr
print_contents_if_exists /app/.apt/usr/lib
print_contents_if_exists /app/.apt/usr/include
print_contents_if_exists /app/.apt/usr/include/xmlsec1
